const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qbittorrent-DWUBnQkn.js","./index-CRwr5ibC.js","./libs-D1siNBiN.js","./arcoDesign-BnuLdl8F.js","./uuid-5hg4BtTT.js","./index-DFD3iMZ8.css","./qbittorrentee-C2IeiYZR.js","./transmission-2kFk0U3T.js","./biglybt-DwJ_QM89.js","./deluge-DrBQsx6o.js","./bitcomet-i1RgFGSF.js"])))=>i.map(i=>d[i]);
import{D as a,n as u}from"./index-CRwr5ibC.js";import{T as x}from"./init-C4qjq3-w.js";import{f as R,a7 as L,am as H,a as N,q as S,s as g,k as c,t as e,y as t,v as l,x as p,a3 as n,u as U,E as J,m as K,O as W,ab as m}from"./libs-D1siNBiN.js";import{a0 as $,F as j,a1 as z,H as G,J as Q,K as X,O as Y,f as Z,S as ee,M as y}from"./arcoDesign-BnuLdl8F.js";import{v1 as oe}from"./uuid-5hg4BtTT.js";const te={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},se=R({__name:"addDownloader",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(B){const E=m(()=>u(()=>import("./qbittorrent-DWUBnQkn.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),T=m(()=>u(()=>import("./qbittorrentee-C2IeiYZR.js"),__vite__mapDeps([6,1,2,3,4,5]),import.meta.url)),b=m(()=>u(()=>import("./transmission-2kFk0U3T.js"),__vite__mapDeps([7,1,2,3,4,5]),import.meta.url)),w=m(()=>u(()=>import("./biglybt-DwJ_QM89.js"),__vite__mapDeps([8,1,2,3,4,5]),import.meta.url)),C=m(()=>u(()=>import("./deluge-DrBQsx6o.js"),__vite__mapDeps([9,1,2,3,4,5]),import.meta.url)),V=m(()=>u(()=>import("./bitcomet-i1RgFGSF.js"),__vite__mapDeps([10,1,2,3,4,5]),import.meta.url)),D={[a.qBittorrent]:E,[a.qBittorrentEE]:T,[a.Transmission]:b,[a.BiglyBT]:w,[a.Deluge]:C,[a.BitComet]:V},{t:i}=L(),r=H(B,"modelValue"),_=N(!1),q=async()=>{_.value=!0,r.value.downloaderConfig.config.endpoint.replace(/\/$/,"");try{const s=await x({id:oe(),config:r.value.downloaderConfig.config});if(!s.success)throw new Error(s.message)}catch(s){return s instanceof Error&&y.error({content:s.message,resetOnHover:!0}),!1}finally{_.value=!1}y.success({content:i("page.oobe.addDownloader.test.success"),resetOnHover:!0}),r.value.valid=!0};return(s,o)=>{const O=j,P=z,F=$,d=Y,h=X,M=S("i18n-t"),v=Q,A=Z,I=G,k=ee;return c(),g(k,{direction:"vertical",style:{width:"70%"}},{default:e(()=>[t(F,{style:{"text-align":"left"}},{default:e(()=>[t(O,null,{default:e(()=>[l(p(n(i)("page.oobe.addDownloader.title")),1)]),_:1}),t(P,null,{default:e(()=>[l(p(n(i)("page.oobe.addDownloader.description")),1)]),_:1})]),_:1}),t(I,{model:r.value.downloaderConfig,"auto-label-width":""},{default:e(()=>[t(v,{field:"config.type",label:n(i)("page.dashboard.editModal.label.type"),required:""},J({default:e(()=>[t(h,{modelValue:r.value.downloaderConfig.config.type,"onUpdate:modelValue":o[0]||(o[0]=f=>r.value.downloaderConfig.config.type=f),style:{width:"10em"},"trigger-props":{autoFitPopupMinWidth:!0}},{default:e(()=>[t(d,{value:n(a).qBittorrent},{default:e(()=>o[2]||(o[2]=[l("qBittorrent")])),_:1,__:[2]},8,["value"]),t(d,{value:n(a).qBittorrentEE},{default:e(()=>o[3]||(o[3]=[l("qBittorrentEE")])),_:1,__:[3]},8,["value"]),t(d,{value:n(a).BiglyBT},{default:e(()=>o[4]||(o[4]=[l("BiglyBT")])),_:1,__:[4]},8,["value"]),t(d,{value:n(a).Deluge},{default:e(()=>o[5]||(o[5]=[l("Deluge")])),_:1,__:[5]},8,["value"]),t(d,{value:n(a).BitComet},{default:e(()=>o[6]||(o[6]=[l("BitComet")])),_:1,__:[6]},8,["value"]),t(d,{value:n(a).Transmission},{default:e(()=>o[7]||(o[7]=[l("Transmission")])),_:1,__:[7]},8,["value"])]),_:1},8,["modelValue"])]),_:2},[r.value.downloaderConfig.config.type===n(a).BiglyBT?{name:"extra",fn:e(()=>[t(M,{keypath:"page.dashboard.editModal.biglybt"},{url:e(()=>[K("a",te,p(n(i)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),(c(),g(W(D[r.value.downloaderConfig.config.type]),{modelValue:r.value.downloaderConfig.config,"onUpdate:modelValue":o[1]||(o[1]=f=>r.value.downloaderConfig.config=f)},null,8,["modelValue"])),r.value.downloaderConfig.config.type?(c(),g(v,{key:0},{default:e(()=>[t(A,{loading:_.value,onClick:q},{default:e(()=>[l(p(n(i)("page.oobe.addDownloader.test")),1)]),_:1},8,["loading"])]),_:1})):U("",!0)]),_:1},8,["model"])]),_:1})}}});export{se as default};
